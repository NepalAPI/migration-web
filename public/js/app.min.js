$(function(){$("select").select2({placeholder:"Select",allowClear:!0,theme:"classic"}),$("#tags").select2({placeholder:"Select",allowClear:!0,theme:"classic",tags:!0}),tinymce.init({selector:"textarea",theme:"modern",width:700,height:300,browser_spellcheck:!0,fontsize_formats:"8pt 10pt 12pt 14pt 16pt 18pt 20pt 24pt 36pt",plugins:["advlist autolink link image lists charmap  hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality template paste textcolor colorpicker"],content_css:"css/content.css",toolbar:"insertfile undo redo | styleselect | fontsizeselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image |  media fullpage | forecolor backcolor"}),$(document).on("change","#post_type",function(){$(".content-type").hide();var t=$(this).val();$(".type-"+t).show()}),$(document).on("click",".post_type",function(){$(".content-type").hide(),$(this).parent().siblings().removeClass("active"),$(this).parent().addClass("active");var t=$(this).data("post-type");$(".post_type_value").val(t),$(".type-"+t).show()}),$(document).on("click",".delete",function(t){t.preventDefault(),$(this).parent().remove()})});var changePosition=function(t){$.ajax({url:"/sort",type:"POST",data:t,success:function(t){t.success?App.notify.success("Saved!"):App.notify.validationError(t.errors)},error:function(){App.notify.danger("Something wrong!")}})};$(document).ready(function(){var t=$(".sortable");t.length>0&&t.sortable({handle:".sortable-handle",axis:"y",update:function(t,e){var a=$(this).data("entityname"),i=e.item,n=i.prev(),o=i.next();n.length>0?changePosition({parentId:i.data("parentid"),type:"moveAfter",entityName:a,id:i.data("itemid"),positionEntityId:n.data("itemid")}):o.length>0?changePosition({parentId:i.data("parentid"),type:"moveBefore",entityName:a,id:i.data("itemid"),positionEntityId:o.data("itemid")}):App.notify.danger("Something wrong!")},cursor:"move"}),$(".sortable td").each(function(){$(this).css("width",$(this).width()+"px")})});